<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Financial Plan System - Financial Monthly Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
</head>
<body>
<div class="bg-gray-300 p-4 flex justify-between items-center">
    <div class="flex items-center">
        <span class="text-lg font-bold">FINANCIAL PLAN SYSTEM</span>
    </div>
    <div class="flex items-center">
        <div class="text-right mr-2">
            <span class="block" id="full_name">tranglth</span>
            <span class="text-sm text-gray-600" id="role">Accounting depart</span>
        </div>
        <i class="fas fa-user ml-2"></i>
        <button class="bg-gray-500 text-white p-2 ml-4" onclick="logout()">Logout</button>
    </div>
</div>
<div class="bg-gray-400 p-2 flex justify-between items-center">
    <nav class="flex space-x-4">
        <a class="text-black" href="home_admin.html">Home</a>
        <a class="text-black" href="#">Financial plan</a>
        <a class="text-black font-bold" href="#">Financial Report</a>
        <a class="text-black" href="./Term/listTerm.html">Term Management</a>
        <a class="text-black" href="list_user.html">User Management</a>
    </nav>
</div>
<div class="bg-gray-100 flex justify-center min-h-screen">
    <div class="bg-white shadow-md rounded-lg p-6 w-full max-w-7xl mt-6">
        <div class="mb-4">
            <h2 class="text-2xl font-semibold">Monthly Report</h2>
            <p class="text-gray-500"><a href="#" class="text-blue-500">Report List</a></p>
        </div>
        <div class="flex space-x-2 mb-4">
            <input type="text" placeholder="Search" class="border border-gray-300 rounded-md p-2 w-1/3"/>
            <select class="border border-gray-300 rounded-md p-2 w-1/6">
                <option value="">Department</option>
                <option value="BU2">BU2</option>
                <option value="BU3">BU3</option>
                <option value="BU4">BU4</option>
                <option value="BU5">BU5</option>
            </select>
            <select class="border border-gray-300 rounded-md p-2 w-1/6">
                <option value="">Term</option>
                <option value="September">September</option>
            </select>
            <select class="border border-gray-300 rounded-md p-2 w-1/6">
                <option value="">Quarter</option>
                <option value="Q3">Q3</option>
            </select>
            <select class="border border-gray-300 rounded-md p-2 w-1/6">
                <option value="">Status</option>
                <option value="New">New</option>
                <option value="Closed">Closed</option>
            </select>
            <button class="bg-blue-500 text-white p-2 rounded-md">Search</button>
            <button class="bg-green-500 text-white p-2 rounded-md import-btn" >Import</button>
            <button class="bg-red-500 text-white p-2 rounded-md">Export</button>
        </div>
        <table class="w-full border-collapse text-center bg-gray-50 "  id="reportTable">
            <thead>
            <tr class="bg-gray-200">
                <th class="p-2 border">No.</th>
                <th class="p-2 border">Report</th>
                <th class="p-2 border">Month</th>
                <th class="p-2 border">Term</th>
                <th class="p-2 border">Department</th>
                <th class="p-2 border">Status</th>
                <th class="p-2 border">Version</th>
                <th class="p-2 border">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="p-2 border">1</td>
                <td class="p-2 border">Buname_MMYYYY_Report</td>
                <td class="p-2 border">September 2022</td>
                <td class="p-2 border">September</td>
                <td class="p-2 border">BU2</td>
                <td class="p-2 border">New</td>
                <td class="p-2 border">v.2</td>
                <td class="p-2 flex justify-evenly border flex space-x-2">
                    <button class="text-blue-500"><i class="fas fa-eye"></i></button>
                    <button class="text-red-500" data-row="1"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
            <tr>
                <td class="p-2 border">2</td>
                <td class="p-2 border">Buname_MMYYYY_Report</td>
                <td class="p-2 border">September 2022</td>
                <td class="p-2 border">September</td>
                <td class="p-2 border">BU3</td>
                <td class="p-2 border">Closed</td>
                <td class="p-2 border">v.2</td>
                <td class="p-2  flex justify-evenly border flex space-x-2">
                    <button class="text-blue-500"><i class="fas fa-eye"></i></button>
                    <button class="text-red-500" data-row="2"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
            <tr>
                <td class="p-2 border">3</td>
                <td class="p-2 border">Buname_MMYYYY_Report</td>
                <td class="p-2 border">September 2022</td>
                <td class="p-2 border">September</td>
                <td class="p-2 border">BU4</td>
                <td class="p-2 border">Closed</td>
                <td class="p-2 border">v.2</td>
                <td class="p-2 flex justify-evenly border flex space-x-2">
                    <button class="text-blue-500"><i class="fas fa-eye"></i></button>
                    <button class="text-red-500" data-row="3"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
            <tr>
                <td class="p-2 border">4</td>
                <td class="p-2 border">Buname_MMYYYY_Report</td>
                <td class="p-2 border">September 2022</td>
                <td class="p-2 border">September</td>
                <td class="p-2 border">BU5</td>
                <td class="p-2 border">Closed</td>
                <td class="p-2 border">v.2</td>
                <td class="p-2 border flex justify-evenly flex space-x-2">
                    <button class="text-blue-500"><i class="fas fa-eye"></i></button>
                    <button class="text-red-500" data-row="4"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="mt-4 flex justify-between items-center">
            <span>10/60 rows</span>
            <div class="flex space-x-2">
                <button class="bg-gray-300 p-2 rounded text-white">&lt;</button>
                <button class="bg-gray-300 p-2 rounded text-white">&gt;</button>
            </div>
        </div>
    </div>
</div>
<script>
    function logout() {
        alert("Logged out successfully!");
    }

    // Hàm để xoá một dòng
    function deleteRow(rowNumber) {
        const table = document.getElementById('reportTable');
        const rows = table.getElementsByTagName('tr');

        // Tìm và xoá dòng có số tương ứng
        for (let i = 1; i < rows.length; i++) { // Bắt đầu từ 1 để bỏ qua header
            const rowData = rows[i].getElementsByTagName('td')[0].textContent;
            if (rowData === rowNumber.toString()) {
                rows[i].remove();
                updateRowNumbers();
                break;
            }
        }
    }

    // Hàm cập nhật lại số thứ tự các dòng sau khi xoá
    function updateRowNumbers() {
        const table = document.getElementById('reportTable');
        const rows = table.getElementsByTagName('tr');

        for (let i = 1; i < rows.length; i++) { // Bắt đầu từ 1 để bỏ qua header
            rows[i].getElementsByTagName('td')[0].textContent = i;
            // Cập nhật lại thuộc tính data-row cho nút xoá trong dòng này
            const deleteBtn = rows[i].querySelector('.text-red-500');
            if (deleteBtn) {
                deleteBtn.setAttribute('data-row', i);
            }
        }
    }

    // Thêm sự kiện cho các nút thùng rác (class text-red-500)
    document.addEventListener('DOMContentLoaded', function() {
        const deleteButtons = document.querySelectorAll('.text-red-500');
        deleteButtons.forEach(button => {
            button.addEventListener('click', function() {
                const rowNumber = this.getAttribute('data-row');
                if (confirm('Bạn có chắc muốn xoá dòng này không?')) {
                    deleteRow(rowNumber);
                }
            });
        });

        const importButton = document.querySelector('.import-btn');
        if (importButton) {
            importButton.addEventListener('click', function() {
                window.location.href = 'import_report.html';
            });
        }
    });
</script>
</body>
</html>
